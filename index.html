<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link href="stylesheet.css" rel="stylesheet">
  </head>
  <body>
    <h1>Twittler</h1>
    <div id=feed></div>

    <script>

      $(document).ready(function(){
        var $body = $('body'); // captures entire body DOM element
        var $feed = $('#feed');

        //var index = streams.home.length - 1; // last item in streams.home array
        var pullFromArray = function () {
          var tweet = streams.home.shift(); // captures last tweet
          var $tweet = $('<span></span><br>')
          .text(': ' + tweet.message); // adds tweet text to span
          var $user = $('<span></span>').text('@' + tweet.user)
            .addClass('userName '+ tweet.user); // makes a span for the username w/ class username
          var $date = $('<span></span>').text(tweet.created_at);
          $date.appendTo($feed);
          $user.appendTo($feed);
          $tweet.appendTo($feed); // adds new tweet div to the page
        };

        while(streams.home.length > 0){
          pullFromArray();
          //index -= 1;
        }

        $('.userName').on('click', function() {

        });

        var pullFromStream = function () {
          if (streams.home.length > 0) {
            pullFromArray();
          }

          setTimeout(function(){pullFromStream();}, Math.random() * 3000);
        };

        pullFromStream();
      });
    </script>


  </body>
</html>
